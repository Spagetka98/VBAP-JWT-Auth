2021-12-21 08:31:02 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 17692 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 08:31:02 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 08:31:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 08:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 190 ms. Found 6 JPA repository interfaces.
2021-12-21 08:31:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 08:31:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 08:31:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 08:31:19 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 08:31:19 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 16106 ms
2021-12-21 08:31:20 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 08:31:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 08:31:21 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 08:31:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 08:31:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 08:31:22 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 08:31:42 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 08:31:42 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:31:43 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 08:31:44 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b634e24, org.springframework.security.web.context.SecurityContextPersistenceFilter@20a25f66, org.springframework.security.web.header.HeaderWriterFilter@2911db81, org.springframework.web.filter.CorsFilter@7b0dfa91, org.springframework.security.web.authentication.logout.LogoutFilter@7348e75e, cz.osu.theatre.security.jwt.JwtTokenFilter@5cd6719d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27575bcd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@af94b0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@642f8b7f, org.springframework.security.web.session.SessionManagementFilter@7872e91f, org.springframework.security.web.access.ExceptionTranslationFilter@fb42c1c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15c3849f]
2021-12-21 08:31:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 08:31:45 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 44.897 seconds (JVM running for 53.451)
2021-12-21 08:31:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 08:31:53 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: cz.osu.theatre.models.entities.Author; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:69)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$75aeaa7c.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 31 common frames omitted
2021-12-21 08:32:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 08:32:01 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: cz.osu.theatre.models.entities.Author; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:69)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$75aeaa7c.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 31 common frames omitted
2021-12-21 08:32:48 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:32:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 08:32:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 08:32:57 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 13376 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 08:32:57 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 08:32:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 08:32:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 85 ms. Found 6 JPA repository interfaces.
2021-12-21 08:32:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 08:32:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 08:32:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 08:32:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 08:32:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2068 ms
2021-12-21 08:32:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 08:32:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 08:32:59 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 08:32:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 08:32:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 08:32:59 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 08:33:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 08:33:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:33:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 08:33:01 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70e8c019, org.springframework.security.web.context.SecurityContextPersistenceFilter@1958524b, org.springframework.security.web.header.HeaderWriterFilter@102c24d1, org.springframework.web.filter.CorsFilter@2a79da3a, org.springframework.security.web.authentication.logout.LogoutFilter@52c27d53, cz.osu.theatre.security.jwt.JwtTokenFilter@23dff243, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3370be55, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69c0bae6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a191f83, org.springframework.security.web.session.SessionManagementFilter@39a30d1a, org.springframework.security.web.access.ExceptionTranslationFilter@64fba3e6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35fac3ba]
2021-12-21 08:33:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 08:33:01 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 5.127 seconds (JVM running for 6.325)
2021-12-21 08:33:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 08:34:44 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 08:34:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 08:35:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:35:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 08:35:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 08:50:46 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 22400 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 08:50:46 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 08:50:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 08:50:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 144 ms. Found 6 JPA repository interfaces.
2021-12-21 08:50:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 08:50:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 08:50:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 08:50:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 08:50:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3767 ms
2021-12-21 08:50:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 08:50:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 08:50:51 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 08:50:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 08:50:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 08:50:51 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 08:51:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 08:51:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:51:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 08:51:04 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56ec6ac0, org.springframework.security.web.context.SecurityContextPersistenceFilter@62e586a6, org.springframework.security.web.header.HeaderWriterFilter@673605ef, org.springframework.web.filter.CorsFilter@54b35809, org.springframework.security.web.authentication.logout.LogoutFilter@1be427b4, cz.osu.theatre.security.jwt.JwtTokenFilter@652a1a17, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b06dc57, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ea19c97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a3383dc, org.springframework.security.web.session.SessionManagementFilter@45375bdf, org.springframework.security.web.access.ExceptionTranslationFilter@6054ac20, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@75e92bb7]
2021-12-21 08:51:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 08:51:05 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 19.64 seconds (JVM running for 20.586)
2021-12-21 08:51:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 08:51:52 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: cz.osu.theatre.models.entities.Author; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:69)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$265cd677.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 31 common frames omitted
2021-12-21 08:52:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 08:52:01 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: cz.osu.theatre.models.entities.Author; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:69)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$265cd677.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 31 common frames omitted
2021-12-21 08:52:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:52:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 08:52:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 08:54:46 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 4816 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 08:54:46 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 08:54:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 08:54:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81 ms. Found 6 JPA repository interfaces.
2021-12-21 08:54:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 08:54:47 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 08:54:47 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 08:54:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 08:54:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1317 ms
2021-12-21 08:54:47 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 08:54:47 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 08:54:47 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 08:54:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 08:54:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 08:54:47 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 08:54:48 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 08:54:48 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:54:48 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 08:54:49 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fbfd28b, org.springframework.security.web.context.SecurityContextPersistenceFilter@5da2966, org.springframework.security.web.header.HeaderWriterFilter@7f53a31f, org.springframework.web.filter.CorsFilter@3fa50a24, org.springframework.security.web.authentication.logout.LogoutFilter@7741507c, cz.osu.theatre.security.jwt.JwtTokenFilter@6f36267d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca7619f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@299ddfff, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58041b11, org.springframework.security.web.session.SessionManagementFilter@2fc435e9, org.springframework.security.web.access.ExceptionTranslationFilter@4f55a864, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6055e899]
2021-12-21 08:54:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 08:54:49 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.297 seconds (JVM running for 5.056)
2021-12-21 08:54:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 08:54:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: cz.osu.theatre.models.entities.Division; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Division
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:69)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$8d4adbfe.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Division
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 31 common frames omitted
2021-12-21 08:55:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 08:55:01 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: cz.osu.theatre.models.entities.Division; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Division
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:69)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$8d4adbfe.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Division
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 31 common frames omitted
2021-12-21 08:55:04 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:55:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 08:55:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 08:55:11 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 22080 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 08:55:11 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 08:55:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 08:55:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 6 JPA repository interfaces.
2021-12-21 08:55:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 08:55:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 08:55:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 08:55:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 08:55:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1437 ms
2021-12-21 08:55:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 08:55:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 08:55:13 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 08:55:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 08:55:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 08:55:13 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 08:55:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 08:55:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:55:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 08:55:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b2efcae, org.springframework.security.web.context.SecurityContextPersistenceFilter@4942e6af, org.springframework.security.web.header.HeaderWriterFilter@530df3ab, org.springframework.web.filter.CorsFilter@8aa1562, org.springframework.security.web.authentication.logout.LogoutFilter@46290193, cz.osu.theatre.security.jwt.JwtTokenFilter@17dbca0a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@669daa93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fb1948c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c70c771, org.springframework.security.web.session.SessionManagementFilter@470a446f, org.springframework.security.web.access.ExceptionTranslationFilter@43b2e7db, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f996445]
2021-12-21 08:55:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 08:55:15 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.397 seconds (JVM running for 5.238)
2021-12-21 08:55:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 08:56:19 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 08:56:31 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:56:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 08:56:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 08:57:00 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 14648 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 08:57:00 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 08:57:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 08:57:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 6 JPA repository interfaces.
2021-12-21 08:57:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 08:57:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 08:57:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 08:57:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 08:57:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1475 ms
2021-12-21 08:57:02 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 08:57:02 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 08:57:02 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 08:57:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 08:57:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 08:57:02 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 08:57:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 08:57:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:57:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 08:57:04 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6055e899, org.springframework.security.web.context.SecurityContextPersistenceFilter@7d2be319, org.springframework.security.web.header.HeaderWriterFilter@69c0bae6, org.springframework.web.filter.CorsFilter@350be5ec, org.springframework.security.web.authentication.logout.LogoutFilter@1e7113f8, cz.osu.theatre.security.jwt.JwtTokenFilter@342dc040, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2dfd157b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fb42c1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@478cebdb, org.springframework.security.web.session.SessionManagementFilter@5759edff, org.springframework.security.web.access.ExceptionTranslationFilter@6e225c34, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@72015156]
2021-12-21 08:57:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 08:57:04 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.595 seconds (JVM running for 5.358)
2021-12-21 08:58:01 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 08:58:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 08:58:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:01:15 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 5404 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:01:15 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:01:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:01:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81 ms. Found 6 JPA repository interfaces.
2021-12-21 09:01:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:01:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:01:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:01:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:01:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1447 ms
2021-12-21 09:01:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:01:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:01:17 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:01:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:01:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:01:17 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:01:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:01:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:01:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:01:19 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f2afa8b, org.springframework.security.web.context.SecurityContextPersistenceFilter@55315a00, org.springframework.security.web.header.HeaderWriterFilter@46d51d5e, org.springframework.web.filter.CorsFilter@6b2efcae, org.springframework.security.web.authentication.logout.LogoutFilter@64381526, cz.osu.theatre.security.jwt.JwtTokenFilter@3e5c7588, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73a1a1b4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29fc83c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8aa1562, org.springframework.security.web.session.SessionManagementFilter@1be427b4, org.springframework.security.web.access.ExceptionTranslationFilter@57ab4b33, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2ee5c08d]
2021-12-21 09:01:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:01:19 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 5.128 seconds (JVM running for 5.877)
2021-12-21 09:01:27 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-21 09:01:27 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-12-21 09:01:27 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2021-12-21 09:01:27 [http-nio-8080-exec-1] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 09:01:35 [http-nio-8080-exec-3] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 09:01:35 [http-nio-8080-exec-3] ERROR c.o.t.s.a.UserDetailsServiceImpl - User not found in the database
2021-12-21 09:01:35 [http-nio-8080-exec-3] ERROR c.o.t.errors.RestExceptionHandler - Invoked exception type: BAD_REQUEST, full message: Bad credentials 
2021-12-21 09:01:42 [http-nio-8080-exec-4] INFO  c.o.t.c.AuthenticationController - Registrating user with username: R19242 , email: r19242@student.osu.cz
2021-12-21 09:01:42 [http-nio-8080-exec-4] INFO  c.o.t.c.AuthenticationController - User was registered!
2021-12-21 09:01:45 [http-nio-8080-exec-6] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 09:01:46 [http-nio-8080-exec-6] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 09:02:11 [http-nio-8080-exec-8] ERROR c.o.theatre.security.jwt.JwtUtility - Invalid JWT signature: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
2021-12-21 09:02:11 [http-nio-8080-exec-8] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 09:02:22 [http-nio-8080-exec-10] INFO  c.o.t.c.TheatreActivityController - Deleting theatre activity
2021-12-21 09:02:22 [http-nio-8080-exec-10] ERROR c.o.t.errors.RestExceptionHandler - Invoked exception type: BAD_REQUEST, full message: Could not find a activity with id: 1 
2021-12-21 09:02:35 [http-nio-8080-exec-1] INFO  c.o.t.c.TheatreActivityController - Deleting theatre activity
2021-12-21 09:02:35 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1451, SQLState: 23000
2021-12-21 09:02:35 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Cannot delete or update a parent row: a foreign key constraint fails (`vbap`.`theatre_activity_author`, CONSTRAINT `FK8n4ph0uyy8vl9rkas19cdpjvx` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`))
2021-12-21 09:02:35 [http-nio-8080-exec-1] INFO  o.h.e.j.b.internal.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements
2021-12-21 09:02:35 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause
java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`vbap`.`theatre_activity_author`, CONSTRAINT `FK8n4ph0uyy8vl9rkas19cdpjvx` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3615)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3875)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:123)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:723)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.delete(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.deleteTheatreActivity(TheatreActivityServiceImpl.java:127)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$12775c41.deleteTheatreActivity(<generated>)
	at cz.osu.theatre.controllers.TheatreActivityController.updateTheatreActivity(TheatreActivityController.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at cz.osu.theatre.security.jwt.JwtTokenFilter.doFilterInternal(JwtTokenFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:06:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:06:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:06:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:06:08 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 13780 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:06:08 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:06:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:06:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 6 JPA repository interfaces.
2021-12-21 09:06:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:06:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:06:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:06:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:06:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1813 ms
2021-12-21 09:06:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:06:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:06:10 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:06:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:06:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:06:10 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:06:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:06:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:06:11 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:06:12 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50a095cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@470a446f, org.springframework.security.web.header.HeaderWriterFilter@43b2e7db, org.springframework.web.filter.CorsFilter@3f2afa8b, org.springframework.security.web.authentication.logout.LogoutFilter@2dfd157b, cz.osu.theatre.security.jwt.JwtTokenFilter@62410e1f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4942e6af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fc8047f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b2efcae, org.springframework.security.web.session.SessionManagementFilter@3225d950, org.springframework.security.web.access.ExceptionTranslationFilter@39159b14, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28e24663]
2021-12-21 09:06:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:06:12 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.585 seconds (JVM running for 5.53)
2021-12-21 09:06:37 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-21 09:06:37 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-12-21 09:06:37 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2021-12-21 09:06:37 [http-nio-8080-exec-1] INFO  c.o.t.c.TheatreActivityController - Deleting theatre activity
2021-12-21 09:06:37 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1451, SQLState: 23000
2021-12-21 09:06:37 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Cannot delete or update a parent row: a foreign key constraint fails (`vbap`.`theatre_activity_author`, CONSTRAINT `FK8n4ph0uyy8vl9rkas19cdpjvx` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`))
2021-12-21 09:06:37 [http-nio-8080-exec-1] INFO  o.h.e.j.b.internal.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements
2021-12-21 09:06:37 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause
java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`vbap`.`theatre_activity_author`, CONSTRAINT `FK8n4ph0uyy8vl9rkas19cdpjvx` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3615)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3875)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:123)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:723)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.delete(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.deleteTheatreActivity(TheatreActivityServiceImpl.java:127)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$46995f6.deleteTheatreActivity(<generated>)
	at cz.osu.theatre.controllers.TheatreActivityController.updateTheatreActivity(TheatreActivityController.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at cz.osu.theatre.security.jwt.JwtTokenFilter.doFilterInternal(JwtTokenFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:21:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:21:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:21:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:22:54 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 12484 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:22:54 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:22:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:22:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 182 ms. Found 6 JPA repository interfaces.
2021-12-21 09:22:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:22:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:22:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:23:00 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:23:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5224 ms
2021-12-21 09:23:00 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:23:00 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:23:00 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:23:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:23:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:23:00 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:23:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:23:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:23:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:23:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15c3849f, org.springframework.security.web.context.SecurityContextPersistenceFilter@299ddfff, org.springframework.security.web.header.HeaderWriterFilter@46290193, org.springframework.web.filter.CorsFilter@4a7e469d, org.springframework.security.web.authentication.logout.LogoutFilter@35c95869, cz.osu.theatre.security.jwt.JwtTokenFilter@5cd6719d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e02fb23, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27575bcd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@688efeb2, org.springframework.security.web.session.SessionManagementFilter@57a0c261, org.springframework.security.web.access.ExceptionTranslationFilter@2dfd157b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2665a2e7]
2021-12-21 09:23:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:23:15 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 22.549 seconds (JVM running for 29.471)
2021-12-21 09:23:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:23:52 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: cz.osu.theatre.models.entities.Author; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:69)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$8d4adbfe.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 31 common frames omitted
2021-12-21 09:23:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:23:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:23:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:24:56 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 15320 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:24:56 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:24:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:24:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 6 JPA repository interfaces.
2021-12-21 09:24:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:24:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:24:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:24:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:24:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1399 ms
2021-12-21 09:24:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:24:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:24:58 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:24:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:24:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:24:58 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:24:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:24:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:24:59 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:25:00 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b0c38f2, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e7113f8, org.springframework.security.web.header.HeaderWriterFilter@fe09374, org.springframework.web.filter.CorsFilter@5cc152f9, org.springframework.security.web.authentication.logout.LogoutFilter@857f1a7, cz.osu.theatre.security.jwt.JwtTokenFilter@4d2bc56a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@787a4519, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@749c0669, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36f497b1, org.springframework.security.web.session.SessionManagementFilter@4891d727, org.springframework.security.web.access.ExceptionTranslationFilter@5862dda4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b0dfa91]
2021-12-21 09:25:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:25:00 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.286 seconds (JVM running for 5.005)
2021-12-21 09:25:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:25:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:66)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$dd329909.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:25:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:25:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:25:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:29:37 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 10776 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:29:37 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:29:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:29:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.
2021-12-21 09:29:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:29:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:29:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:29:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:29:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1289 ms
2021-12-21 09:29:39 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:29:39 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:29:39 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:29:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:29:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:29:39 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:29:40 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:29:40 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:29:40 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:29:41 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@624be1d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@2911db81, org.springframework.security.web.header.HeaderWriterFilter@5759edff, org.springframework.web.filter.CorsFilter@336e17be, org.springframework.security.web.authentication.logout.LogoutFilter@41cf4272, cz.osu.theatre.security.jwt.JwtTokenFilter@25435731, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51b41740, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1504b493, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3897f9ae, org.springframework.security.web.session.SessionManagementFilter@fb42c1c, org.springframework.security.web.access.ExceptionTranslationFilter@11577ab8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6fbfd28b]
2021-12-21 09:29:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:29:41 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.019 seconds (JVM running for 4.729)
2021-12-21 09:29:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:29:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:66)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:30:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:30:01 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:66)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:30:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:30:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:30:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:32:26 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 1732 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:32:26 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:32:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:32:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 80 ms. Found 6 JPA repository interfaces.
2021-12-21 09:32:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:32:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:32:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:32:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:32:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1409 ms
2021-12-21 09:32:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:32:28 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:32:28 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:32:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:32:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:32:28 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:32:29 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:32:29 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:32:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:32:30 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@663f24e6, org.springframework.security.web.context.SecurityContextPersistenceFilter@488279d3, org.springframework.security.web.header.HeaderWriterFilter@7fce1069, org.springframework.web.filter.CorsFilter@7e532f2d, org.springframework.security.web.authentication.logout.LogoutFilter@27e3dc9a, cz.osu.theatre.security.jwt.JwtTokenFilter@694b1ddb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21ed4a51, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@208185c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42150951, org.springframework.security.web.session.SessionManagementFilter@10b2c1cf, org.springframework.security.web.access.ExceptionTranslationFilter@4edde05c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@394331a8]
2021-12-21 09:32:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:32:30 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.262 seconds (JVM running for 4.971)
2021-12-21 09:32:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:32:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:67)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$b2b7d251.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:32:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:32:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:32:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:33:19 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 19992 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:33:19 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:33:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:33:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 6 JPA repository interfaces.
2021-12-21 09:33:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:33:20 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:33:20 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:33:20 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:33:20 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1428 ms
2021-12-21 09:33:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:33:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:33:21 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:33:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:33:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:33:21 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:33:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:33:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:33:22 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:33:22 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7eb774c3, org.springframework.security.web.context.SecurityContextPersistenceFilter@13b4ee4e, org.springframework.security.web.header.HeaderWriterFilter@129aaac1, org.springframework.web.filter.CorsFilter@72015156, org.springframework.security.web.authentication.logout.LogoutFilter@1504b493, cz.osu.theatre.security.jwt.JwtTokenFilter@671f545b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c2edbe7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35d3202b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a42145, org.springframework.security.web.session.SessionManagementFilter@2648aa1b, org.springframework.security.web.access.ExceptionTranslationFilter@670ae31f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@185b7cc6]
2021-12-21 09:33:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:33:23 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.233 seconds (JVM running for 5.397)
2021-12-21 09:33:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:33:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:67)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$1250c27b.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:33:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:33:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:33:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:35:18 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 7608 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:35:18 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:35:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:35:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.
2021-12-21 09:35:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:35:19 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:35:19 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:35:19 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:35:19 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1392 ms
2021-12-21 09:35:19 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:35:19 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:35:19 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:35:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:35:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:35:20 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:35:20 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:35:20 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:35:21 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:35:21 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2831c178, org.springframework.security.web.context.SecurityContextPersistenceFilter@670ae31f, org.springframework.security.web.header.HeaderWriterFilter@58d79479, org.springframework.web.filter.CorsFilter@70e8c019, org.springframework.security.web.authentication.logout.LogoutFilter@5da2966, cz.osu.theatre.security.jwt.JwtTokenFilter@7cd3860, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@129aaac1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d84b088, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a79da3a, org.springframework.security.web.session.SessionManagementFilter@669daa93, org.springframework.security.web.access.ExceptionTranslationFilter@aaa7000, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@361c4981]
2021-12-21 09:35:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:35:21 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.347 seconds (JVM running for 5.261)
2021-12-21 09:35:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:35:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:66)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$874a781f.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:35:52 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:35:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:35:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:47:30 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 6836 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:47:30 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:47:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:47:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 6 JPA repository interfaces.
2021-12-21 09:47:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:47:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:47:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:47:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:47:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1399 ms
2021-12-21 09:47:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:47:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:47:31 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:47:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:47:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:47:31 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:47:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:47:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:47:33 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:47:33 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45c2c396, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a4ae53d, org.springframework.security.web.header.HeaderWriterFilter@1ba3c03d, org.springframework.web.filter.CorsFilter@408d12fc, org.springframework.security.web.authentication.logout.LogoutFilter@9976b27, cz.osu.theatre.security.jwt.JwtTokenFilter@4e9bd2c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d84688f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@682fe17b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69d61a6f, org.springframework.security.web.session.SessionManagementFilter@4023d23f, org.springframework.security.web.access.ExceptionTranslationFilter@7741507c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@278150a1]
2021-12-21 09:47:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:47:33 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.314 seconds (JVM running for 4.958)
2021-12-21 09:47:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:47:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.Author.addTheatreActivity(Author.java:31)
	at cz.osu.theatre.services.AuthorServiceImpl.lambda$checkAuthors$0(AuthorServiceImpl.java:28)
	at java.base/java.util.Optional.ifPresentOrElse(Optional.java:196)
	at cz.osu.theatre.services.AuthorServiceImpl.lambda$checkAuthors$2(AuthorServiceImpl.java:27)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.AuthorServiceImpl.checkAuthors(AuthorServiceImpl.java:26)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:68)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$dd329909.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:47:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:47:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:47:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:48:32 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 12004 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:48:32 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:48:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:48:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 6 JPA repository interfaces.
2021-12-21 09:48:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:48:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:48:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:48:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:48:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1355 ms
2021-12-21 09:48:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:48:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:48:34 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:48:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:48:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:48:34 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:48:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:48:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:48:35 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:48:36 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3897f9ae, org.springframework.security.web.context.SecurityContextPersistenceFilter@51b41740, org.springframework.security.web.header.HeaderWriterFilter@7d2be319, org.springframework.web.filter.CorsFilter@6c767288, org.springframework.security.web.authentication.logout.LogoutFilter@4769537a, cz.osu.theatre.security.jwt.JwtTokenFilter@6cc44207, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57a0c261, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7872e91f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@510e6b93, org.springframework.security.web.session.SessionManagementFilter@2911db81, org.springframework.security.web.access.ExceptionTranslationFilter@5759edff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@58041b11]
2021-12-21 09:48:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:48:36 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.081 seconds (JVM running for 5.042)
2021-12-21 09:48:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:48:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.Author.addTheatreActivity(Author.java:31)
	at cz.osu.theatre.services.AuthorServiceImpl.lambda$checkAuthors$0(AuthorServiceImpl.java:28)
	at java.base/java.util.Optional.ifPresentOrElse(Optional.java:196)
	at cz.osu.theatre.services.AuthorServiceImpl.lambda$checkAuthors$2(AuthorServiceImpl.java:27)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.AuthorServiceImpl.checkAuthors(AuthorServiceImpl.java:26)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:68)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$6b168459.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:48:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:48:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:48:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:49:23 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 18680 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:49:23 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:49:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:49:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81 ms. Found 6 JPA repository interfaces.
2021-12-21 09:49:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:49:24 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:49:24 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:49:24 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:49:24 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1296 ms
2021-12-21 09:49:24 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:49:24 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:49:24 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:49:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:49:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:49:24 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:49:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:49:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:49:25 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:49:26 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2696b687, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d84688f, org.springframework.security.web.header.HeaderWriterFilter@749c0669, org.springframework.web.filter.CorsFilter@ea45a5b, org.springframework.security.web.authentication.logout.LogoutFilter@462b239f, cz.osu.theatre.security.jwt.JwtTokenFilter@665b441e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7348e75e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13e0f380, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57f83c82, org.springframework.security.web.session.SessionManagementFilter@1a4ae53d, org.springframework.security.web.access.ExceptionTranslationFilter@1ba3c03d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@27d0376f]
2021-12-21 09:49:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:49:26 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.055 seconds (JVM running for 4.791)
2021-12-21 09:49:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:49:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Division.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.Division.addTheatreActivity(Division.java:30)
	at cz.osu.theatre.services.DivisionServiceImpl.lambda$checkDivisions$0(DivisionServiceImpl.java:28)
	at java.base/java.util.Optional.ifPresentOrElse(Optional.java:196)
	at cz.osu.theatre.services.DivisionServiceImpl.lambda$checkDivisions$2(DivisionServiceImpl.java:27)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.DivisionServiceImpl.checkDivisions(DivisionServiceImpl.java:26)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:69)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$dd329909.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:49:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:49:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:49:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:50:09 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 12016 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:50:09 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:50:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:50:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.
2021-12-21 09:50:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:50:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:50:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:50:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:50:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1296 ms
2021-12-21 09:50:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:50:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:50:11 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:50:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:50:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:50:11 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:50:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:50:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:50:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:50:13 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69d1ad64, org.springframework.security.web.context.SecurityContextPersistenceFilter@7792e14f, org.springframework.security.web.header.HeaderWriterFilter@7ee3a2ed, org.springframework.web.filter.CorsFilter@458b4487, org.springframework.security.web.authentication.logout.LogoutFilter@665f88e1, cz.osu.theatre.security.jwt.JwtTokenFilter@21ab919c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f87a7c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@375ff309, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53016c98, org.springframework.security.web.session.SessionManagementFilter@49cd08f9, org.springframework.security.web.access.ExceptionTranslationFilter@4769537a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45c2c396]
2021-12-21 09:50:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:50:13 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.027 seconds (JVM running for 4.8)
2021-12-21 09:50:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:51:16 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 09:51:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:51:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:51:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:51:57 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 3472 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:51:57 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:51:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:51:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 6 JPA repository interfaces.
2021-12-21 09:51:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:51:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:51:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:51:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:51:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1287 ms
2021-12-21 09:51:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:51:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:51:59 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:51:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:51:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:51:59 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:52:10 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:52:10 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:52:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:52:11 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b06f498, org.springframework.security.web.context.SecurityContextPersistenceFilter@1831447c, org.springframework.security.web.header.HeaderWriterFilter@7872e91f, org.springframework.web.filter.CorsFilter@4ddb9a8, org.springframework.security.web.authentication.logout.LogoutFilter@38ad86b1, cz.osu.theatre.security.jwt.JwtTokenFilter@47772462, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37a0fc8c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38363e96, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b24d5e4, org.springframework.security.web.session.SessionManagementFilter@af94b0b, org.springframework.security.web.access.ExceptionTranslationFilter@1504b493, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@248b2091]
2021-12-21 09:52:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:52:11 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 14.562 seconds (JVM running for 15.253)
2021-12-21 09:52:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:53:16 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 09:53:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:53:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:53:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 09:56:47 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 9532 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 09:56:47 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 09:56:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 09:56:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 6 JPA repository interfaces.
2021-12-21 09:56:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 09:56:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 09:56:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 09:56:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 09:56:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1345 ms
2021-12-21 09:56:49 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 09:56:49 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 09:56:49 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 09:56:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 09:56:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 09:56:49 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 09:57:01 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 09:57:01 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:57:02 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 09:57:02 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b06f498, org.springframework.security.web.context.SecurityContextPersistenceFilter@af94b0b, org.springframework.security.web.header.HeaderWriterFilter@1504b493, org.springframework.web.filter.CorsFilter@4ddb9a8, org.springframework.security.web.authentication.logout.LogoutFilter@333efb51, cz.osu.theatre.security.jwt.JwtTokenFilter@3ddac0b6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1831447c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4504a4ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b24d5e4, org.springframework.security.web.session.SessionManagementFilter@627d5f1, org.springframework.security.web.access.ExceptionTranslationFilter@57e6d56a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@248b2091]
2021-12-21 09:57:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 09:57:02 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 15.926 seconds (JVM running for 16.617)
2021-12-21 09:57:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 09:57:52 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Division.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addDivision(TheatreActivity.java:81)
	at java.base/java.util.Optional.ifPresentOrElse(Optional.java:196)
	at cz.osu.theatre.services.DivisionServiceImpl.lambda$checkDivisions$1(DivisionServiceImpl.java:27)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.DivisionServiceImpl.checkDivisions(DivisionServiceImpl.java:26)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:69)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$7625b0ef.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 09:57:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 09:57:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 09:57:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:01:19 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 7240 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:01:19 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:01:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:01:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81 ms. Found 6 JPA repository interfaces.
2021-12-21 10:01:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:01:20 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:01:20 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:01:20 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:01:20 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1544 ms
2021-12-21 10:01:20 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:01:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:01:21 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:01:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:01:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:01:21 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:01:38 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:01:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:01:39 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:01:39 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@478cebdb, org.springframework.security.web.context.SecurityContextPersistenceFilter@7d2be319, org.springframework.security.web.header.HeaderWriterFilter@69c0bae6, org.springframework.web.filter.CorsFilter@5464aeec, org.springframework.security.web.authentication.logout.LogoutFilter@1e7113f8, cz.osu.theatre.security.jwt.JwtTokenFilter@3a8ead9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2dfd157b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fb42c1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b3a95d9, org.springframework.security.web.session.SessionManagementFilter@5759edff, org.springframework.security.web.access.ExceptionTranslationFilter@6e225c34, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@bb38c49]
2021-12-21 10:01:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:01:40 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 21.327 seconds (JVM running for 22.127)
2021-12-21 10:01:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:01:52 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Division.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addDivision(TheatreActivity.java:81)
	at java.base/java.util.Optional.ifPresentOrElse(Optional.java:196)
	at cz.osu.theatre.services.DivisionServiceImpl.lambda$checkDivisions$1(DivisionServiceImpl.java:27)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.DivisionServiceImpl.checkDivisions(DivisionServiceImpl.java:26)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:69)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$9645e568.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 10:01:58 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:01:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:01:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:03:30 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 19992 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:03:30 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:03:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:03:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 80 ms. Found 6 JPA repository interfaces.
2021-12-21 10:03:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:03:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:03:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:03:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:03:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1500 ms
2021-12-21 10:03:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:03:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:03:31 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:03:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:03:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:03:32 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:03:42 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:03:42 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:03:43 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:03:44 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@350be5ec, org.springframework.security.web.context.SecurityContextPersistenceFilter@5703c1fb, org.springframework.security.web.header.HeaderWriterFilter@5d84b088, org.springframework.web.filter.CorsFilter@478cebdb, org.springframework.security.web.authentication.logout.LogoutFilter@550574cb, cz.osu.theatre.security.jwt.JwtTokenFilter@87fc0fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35d3202b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b71af0d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5464aeec, org.springframework.security.web.session.SessionManagementFilter@5513a46b, org.springframework.security.web.access.ExceptionTranslationFilter@230d013b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a42145]
2021-12-21 10:03:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:03:44 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 14.664 seconds (JVM running for 15.553)
2021-12-21 10:03:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:04:47 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 10:04:49 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:04:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:04:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:06:06 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 11184 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:06:06 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:06:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:06:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 6 JPA repository interfaces.
2021-12-21 10:06:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:06:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:06:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:06:08 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:06:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1387 ms
2021-12-21 10:06:08 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:06:08 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:06:08 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:06:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:06:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:06:08 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:06:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:06:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:06:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:06:20 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cc152f9, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e149513, org.springframework.security.web.header.HeaderWriterFilter@5e02fb23, org.springframework.web.filter.CorsFilter@36f497b1, org.springframework.security.web.authentication.logout.LogoutFilter@682fe17b, cz.osu.theatre.security.jwt.JwtTokenFilter@694b1ddb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@627d5f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4468c0ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b86a656, org.springframework.security.web.session.SessionManagementFilter@550574cb, org.springframework.security.web.access.ExceptionTranslationFilter@299ddfff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@642f8b7f]
2021-12-21 10:06:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:06:20 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 14.214 seconds (JVM running for 14.905)
2021-12-21 10:06:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:06:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: cz.osu.theatre.models.entities.Author; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:71)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$52a5b74b.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 31 common frames omitted
2021-12-21 10:06:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:06:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:06:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:07:14 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 21516 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:07:14 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:07:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:07:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.
2021-12-21 10:07:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:07:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:07:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:07:16 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:07:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1294 ms
2021-12-21 10:07:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:07:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:07:16 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:07:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:07:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:07:16 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:07:17 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:07:17 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:07:17 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:07:18 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69d61a6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@7348e75e, org.springframework.security.web.header.HeaderWriterFilter@41cf4272, org.springframework.web.filter.CorsFilter@759b05d1, org.springframework.security.web.authentication.logout.LogoutFilter@2d5e051e, cz.osu.theatre.security.jwt.JwtTokenFilter@5edd9b4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49cd08f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@333efb51, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2696b687, org.springframework.security.web.session.SessionManagementFilter@4d84688f, org.springframework.security.web.access.ExceptionTranslationFilter@749c0669, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@712e4b18]
2021-12-21 10:07:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:07:18 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.246 seconds (JVM running for 4.918)
2021-12-21 10:07:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:08:38 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 10:08:42 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:08:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:08:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:09:49 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 22180 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:09:49 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:09:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:09:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 6 JPA repository interfaces.
2021-12-21 10:09:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:09:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:09:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:09:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:09:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1317 ms
2021-12-21 10:09:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:09:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:09:51 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:09:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:09:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:09:51 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:10:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:10:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:10:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:10:04 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2093bb6c, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e225c34, org.springframework.security.web.header.HeaderWriterFilter@55315a00, org.springframework.web.filter.CorsFilter@528a16fb, org.springframework.security.web.authentication.logout.LogoutFilter@5862dda4, cz.osu.theatre.security.jwt.JwtTokenFilter@44f23927, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69c0bae6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29d563bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3673e211, org.springframework.security.web.session.SessionManagementFilter@7c39193f, org.springframework.security.web.access.ExceptionTranslationFilter@1be427b4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a191f83]
2021-12-21 10:10:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:10:04 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 15.635 seconds (JVM running for 16.547)
2021-12-21 10:10:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:10:53 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at java.base/java.util.Optional.ifPresentOrElse(Optional.java:196)
	at cz.osu.theatre.services.AuthorServiceImpl.lambda$checkAuthors$1(AuthorServiceImpl.java:27)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.AuthorServiceImpl.checkAuthors(AuthorServiceImpl.java:26)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:68)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$eed47143.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 10:10:55 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:10:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:10:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:17:50 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 20004 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:17:50 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:17:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:17:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 6 JPA repository interfaces.
2021-12-21 10:17:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:17:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:17:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:17:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:17:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1302 ms
2021-12-21 10:17:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:17:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:17:51 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:17:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:17:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:17:51 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:17:52 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:17:52 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:17:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:17:53 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@712e4b18, org.springframework.security.web.context.SecurityContextPersistenceFilter@35c95869, org.springframework.security.web.header.HeaderWriterFilter@105fe81e, org.springframework.web.filter.CorsFilter@af96ac9, org.springframework.security.web.authentication.logout.LogoutFilter@587f6634, cz.osu.theatre.security.jwt.JwtTokenFilter@4e9bd2c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@361d8567, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49cd08f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27d0376f, org.springframework.security.web.session.SessionManagementFilter@7ee3a2ed, org.springframework.security.web.access.ExceptionTranslationFilter@787a4519, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39fb5ddf]
2021-12-21 10:17:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:17:53 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.075 seconds (JVM running for 4.783)
2021-12-21 10:18:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:18:01 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at java.base/java.util.Optional.ifPresentOrElse(Optional.java:196)
	at cz.osu.theatre.services.AuthorServiceImpl.lambda$checkAuthors$1(AuthorServiceImpl.java:27)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.AuthorServiceImpl.checkAuthors(AuthorServiceImpl.java:26)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:67)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 10:18:04 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:18:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:18:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:19:21 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 12928 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:19:21 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:19:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:19:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 6 JPA repository interfaces.
2021-12-21 10:19:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:19:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:19:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:19:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:19:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1310 ms
2021-12-21 10:19:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:19:23 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:19:23 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:19:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:19:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:19:23 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:19:24 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:19:24 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:19:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:19:24 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4797023d, org.springframework.security.web.context.SecurityContextPersistenceFilter@af94b0b, org.springframework.security.web.header.HeaderWriterFilter@1504b493, org.springframework.web.filter.CorsFilter@55cc4c61, org.springframework.security.web.authentication.logout.LogoutFilter@333efb51, cz.osu.theatre.security.jwt.JwtTokenFilter@70819ba8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1831447c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4504a4ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b06f498, org.springframework.security.web.session.SessionManagementFilter@627d5f1, org.springframework.security.web.access.ExceptionTranslationFilter@57e6d56a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e532f2d]
2021-12-21 10:19:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:19:25 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.102 seconds (JVM running for 4.873)
2021-12-21 10:19:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:19:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at java.base/java.util.Optional.ifPresentOrElse(Optional.java:196)
	at cz.osu.theatre.services.AuthorServiceImpl.lambda$checkAuthors$1(AuthorServiceImpl.java:27)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at cz.osu.theatre.services.AuthorServiceImpl.checkAuthors(AuthorServiceImpl.java:26)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:67)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 10:19:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:19:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:19:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:34:57 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 14144 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:34:57 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:34:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:34:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 153 ms. Found 6 JPA repository interfaces.
2021-12-21 10:34:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:34:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1898 ms
2021-12-21 10:34:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:34:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:34:59 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:34:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:34:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:34:59 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:35:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:35:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:35:01 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:35:01 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@af96ac9, org.springframework.security.web.context.SecurityContextPersistenceFilter@558aa1f1, org.springframework.security.web.header.HeaderWriterFilter@af94b0b, org.springframework.web.filter.CorsFilter@27d0376f, org.springframework.security.web.authentication.logout.LogoutFilter@4d7c9b42, cz.osu.theatre.security.jwt.JwtTokenFilter@665b441e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fd6dfbc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43549c6c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21948bd1, org.springframework.security.web.session.SessionManagementFilter@38363e96, org.springframework.security.web.access.ExceptionTranslationFilter@627d5f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@642d34f1]
2021-12-21 10:36:09 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 228 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:36:09 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:36:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:36:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 6 JPA repository interfaces.
2021-12-21 10:36:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:36:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:36:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:36:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:36:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1428 ms
2021-12-21 10:36:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:36:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:36:11 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:36:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:36:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:36:11 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:36:21 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:36:21 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:36:21 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:36:22 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3673e211, org.springframework.security.web.context.SecurityContextPersistenceFilter@69c0bae6, org.springframework.security.web.header.HeaderWriterFilter@73a1a1b4, org.springframework.web.filter.CorsFilter@758d0555, org.springframework.security.web.authentication.logout.LogoutFilter@fe09374, cz.osu.theatre.security.jwt.JwtTokenFilter@228958a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5eb041b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11577ab8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48788853, org.springframework.security.web.session.SessionManagementFilter@6e225c34, org.springframework.security.web.access.ExceptionTranslationFilter@55315a00, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3adbd038]
2021-12-21 10:36:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:36:22 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 13.809 seconds (JVM running for 14.959)
2021-12-21 10:36:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:36:51 [scheduling-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1062, SQLState: 23000
2021-12-21 10:36:51 [scheduling-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Duplicate entry 'Opereta' for key 'UK_bw4owjjddobaevrmh4o67vaho'
2021-12-21 10:36:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [UK_bw4owjjddobaevrmh4o67vaho]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:76)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:52)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:48)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:46)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3196)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3802)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 27 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'Opereta' for key 'UK_bw4owjjddobaevrmh4o67vaho'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 92 common frames omitted
2021-12-21 10:36:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:36:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:36:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:44:12 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 22172 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:44:12 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:44:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:44:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 6 JPA repository interfaces.
2021-12-21 10:44:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:44:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:44:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:44:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:44:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1307 ms
2021-12-21 10:44:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:44:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:44:14 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:44:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:44:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:44:14 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:44:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:44:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:44:26 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:44:26 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authorController' defined in file [C:\Users\Lukáš Richter\Desktop\theatre\target\classes\cz\osu\theatre\controllers\AuthorController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authorServiceImpl' defined in file [C:\Users\Lukáš Richter\Desktop\theatre\target\classes\cz\osu\theatre\services\AuthorServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorRepository' defined in cz.osu.theatre.repositories.AuthorRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Reason: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).
2021-12-21 10:44:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:44:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:44:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:44:26 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2021-12-21 10:44:26 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-12-21 10:44:26 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authorController' defined in file [C:\Users\Lukáš Richter\Desktop\theatre\target\classes\cz\osu\theatre\controllers\AuthorController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authorServiceImpl' defined in file [C:\Users\Lukáš Richter\Desktop\theatre\target\classes\cz\osu\theatre\services\AuthorServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorRepository' defined in cz.osu.theatre.repositories.AuthorRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Reason: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)
	at cz.osu.theatre.TheatreApplication.main(TheatreApplication.java:12)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authorServiceImpl' defined in file [C:\Users\Lukáš Richter\Desktop\theatre\target\classes\cz\osu\theatre\services\AuthorServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorRepository' defined in cz.osu.theatre.repositories.AuthorRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Reason: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorRepository' defined in cz.osu.theatre.repositories.AuthorRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Reason: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1380)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 33 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Reason: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1056)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:86)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:360)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:230)
	at org.springframework.data.util.Lazy.get(Lazy.java:114)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set)! Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:96)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:113)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102)
	... 66 common frames omitted
Caused by: java.lang.IllegalStateException: Operator SIMPLE_PROPERTY on name requires a scalar argument, found interface java.util.Set in method public abstract java.util.List cz.osu.theatre.repositories.AuthorRepository.findAllByName(java.util.Set).
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.throwExceptionOnArgumentMismatch(PartTreeJpaQuery.java:171)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.validate(PartTreeJpaQuery.java:147)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:90)
	... 70 common frames omitted
2021-12-21 10:47:05 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 13536 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:47:05 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:47:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:47:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 6 JPA repository interfaces.
2021-12-21 10:47:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:47:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:47:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:47:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:47:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1324 ms
2021-12-21 10:47:06 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:47:06 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:47:06 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:47:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:47:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:47:07 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:47:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:47:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:47:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:47:19 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cc152f9, org.springframework.security.web.context.SecurityContextPersistenceFilter@550574cb, org.springframework.security.web.header.HeaderWriterFilter@299ddfff, org.springframework.web.filter.CorsFilter@36f497b1, org.springframework.security.web.authentication.logout.LogoutFilter@6f87a7c7, cz.osu.theatre.security.jwt.JwtTokenFilter@17e2835c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e149513, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9a37591, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b86a656, org.springframework.security.web.session.SessionManagementFilter@13866865, org.springframework.security.web.access.ExceptionTranslationFilter@57a0c261, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@642f8b7f]
2021-12-21 10:47:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:47:19 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 15.073 seconds (JVM running for 15.758)
2021-12-21 10:47:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:47:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:72)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:53)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:49)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:47)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 10:47:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:47:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:47:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:49:56 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 17356 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:49:56 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:49:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:49:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.
2021-12-21 10:49:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:49:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:49:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:49:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:49:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1306 ms
2021-12-21 10:49:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:49:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:49:58 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:49:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:49:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:49:58 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:50:10 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:50:10 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:50:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:50:10 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b06f498, org.springframework.security.web.context.SecurityContextPersistenceFilter@af94b0b, org.springframework.security.web.header.HeaderWriterFilter@1504b493, org.springframework.web.filter.CorsFilter@4ddb9a8, org.springframework.security.web.authentication.logout.LogoutFilter@333efb51, cz.osu.theatre.security.jwt.JwtTokenFilter@694b1ddb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1831447c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4504a4ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b24d5e4, org.springframework.security.web.session.SessionManagementFilter@627d5f1, org.springframework.security.web.access.ExceptionTranslationFilter@57e6d56a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@248b2091]
2021-12-21 10:50:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:50:11 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 14.722 seconds (JVM running for 15.402)
2021-12-21 10:50:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:50:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$mergeTheatreActivity$2(TheatreActivityServiceImpl.java:72)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:72)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:53)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:49)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:47)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 10:50:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:50:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:50:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:51:25 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 12892 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:51:25 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:51:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:51:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 6 JPA repository interfaces.
2021-12-21 10:51:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:51:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:51:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:51:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:51:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1292 ms
2021-12-21 10:51:27 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:51:27 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:51:27 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:51:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:51:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:51:27 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:51:28 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:51:28 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:51:28 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:51:29 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e170abe, org.springframework.security.web.context.SecurityContextPersistenceFilter@38363e96, org.springframework.security.web.header.HeaderWriterFilter@627d5f1, org.springframework.web.filter.CorsFilter@712e4b18, org.springframework.security.web.authentication.logout.LogoutFilter@54087bdb, cz.osu.theatre.security.jwt.JwtTokenFilter@283ecb4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@558aa1f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27e3dc9a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@af96ac9, org.springframework.security.web.session.SessionManagementFilter@4504a4ed, org.springframework.security.web.access.ExceptionTranslationFilter@3e149513, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5002be8e]
2021-12-21 10:51:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:51:29 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.073 seconds (JVM running for 4.77)
2021-12-21 10:51:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:51:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.TheatreActivity.addAuthor(TheatreActivity.java:71)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$mergeTheatreActivity$2(TheatreActivityServiceImpl.java:74)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:74)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:53)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:49)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:47)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 10:51:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:51:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:51:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 10:53:12 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 13808 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 10:53:12 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 10:53:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 10:53:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 6 JPA repository interfaces.
2021-12-21 10:53:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 10:53:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 10:53:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 10:53:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 10:53:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1301 ms
2021-12-21 10:53:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 10:53:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 10:53:13 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 10:53:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 10:53:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 10:53:13 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 10:53:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 10:53:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:53:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 10:53:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5002be8e, org.springframework.security.web.context.SecurityContextPersistenceFilter@4468c0ea, org.springframework.security.web.header.HeaderWriterFilter@13866865, org.springframework.web.filter.CorsFilter@39fb5ddf, org.springframework.security.web.authentication.logout.LogoutFilter@271a140c, cz.osu.theatre.security.jwt.JwtTokenFilter@61246109, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53d2b827, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@402676e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@642d34f1, org.springframework.security.web.session.SessionManagementFilter@9a37591, org.springframework.security.web.access.ExceptionTranslationFilter@27575bcd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b86a656]
2021-12-21 10:53:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 10:53:15 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.058 seconds (JVM running for 4.745)
2021-12-21 10:53:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 10:53:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.models.entities.Author.addTheatreActivity(Author.java:31)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$mergeTheatreActivity$2(TheatreActivityServiceImpl.java:74)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:74)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:53)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:49)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:47)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 10:53:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 10:53:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 10:53:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:23:21 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 5576 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:23:21 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:23:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:23:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 131 ms. Found 6 JPA repository interfaces.
2021-12-21 11:23:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:23:24 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:23:24 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:23:24 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:23:24 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3388 ms
2021-12-21 11:23:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:23:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:23:25 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:23:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:23:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:23:25 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:23:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:23:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:23:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:23:39 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c3c31a5, org.springframework.security.web.context.SecurityContextPersistenceFilter@7741507c, org.springframework.security.web.header.HeaderWriterFilter@10b2c1cf, org.springframework.web.filter.CorsFilter@5002be8e, org.springframework.security.web.authentication.logout.LogoutFilter@73ff7a54, cz.osu.theatre.security.jwt.JwtTokenFilter@1ecec098, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ba3c03d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35c95869, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39fb5ddf, org.springframework.security.web.session.SessionManagementFilter@208185c0, org.springframework.security.web.access.ExceptionTranslationFilter@19de32cb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@36f497b1]
2021-12-21 11:23:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:23:39 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 19.668 seconds (JVM running for 23.345)
2021-12-21 11:23:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:23:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:23:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:24:12 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 13164 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:24:12 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:24:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:24:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 6 JPA repository interfaces.
2021-12-21 11:24:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:24:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:24:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:24:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:24:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1305 ms
2021-12-21 11:24:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:24:14 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:24:14 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:24:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:24:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:24:14 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:24:28 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:24:28 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:24:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:24:29 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b0dfa91, org.springframework.security.web.context.SecurityContextPersistenceFilter@19de32cb, org.springframework.security.web.header.HeaderWriterFilter@5b71af0d, org.springframework.web.filter.CorsFilter@642f8b7f, org.springframework.security.web.authentication.logout.LogoutFilter@1368e2f7, cz.osu.theatre.security.jwt.JwtTokenFilter@61b0af9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10b2c1cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@787a4519, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3321fb65, org.springframework.security.web.session.SessionManagementFilter@5c1687d1, org.springframework.security.web.access.ExceptionTranslationFilter@52c27d53, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a7e469d]
2021-12-21 11:24:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:24:29 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 17.57 seconds (JVM running for 18.263)
2021-12-21 11:24:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 11:24:52 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$mergeTheatreActivity$2(TheatreActivityServiceImpl.java:75)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:74)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:53)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:49)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:47)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 11:24:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:24:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:24:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:25:18 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 19736 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:25:18 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:25:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:25:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 6 JPA repository interfaces.
2021-12-21 11:25:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:25:19 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:25:19 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:25:19 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:25:19 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1337 ms
2021-12-21 11:25:20 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:25:20 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:25:20 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:25:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:25:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:25:20 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:25:21 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:25:21 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:25:21 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:25:22 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c02a1be, org.springframework.security.web.context.SecurityContextPersistenceFilter@53d2b827, org.springframework.security.web.header.HeaderWriterFilter@550574cb, org.springframework.web.filter.CorsFilter@6f740044, org.springframework.security.web.authentication.logout.LogoutFilter@176054b7, cz.osu.theatre.security.jwt.JwtTokenFilter@a251135, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4504a4ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1368e2f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62732be7, org.springframework.security.web.session.SessionManagementFilter@4468c0ea, org.springframework.security.web.access.ExceptionTranslationFilter@13866865, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b06f498]
2021-12-21 11:25:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:25:22 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.183 seconds (JVM running for 4.877)
2021-12-21 11:25:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 11:25:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: cz.osu.theatre.models.entities.Author.theatreActivities, could not initialize proxy - no Session
	at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)
	at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)
	at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)
	at org.hibernate.collection.internal.PersistentSet.add(PersistentSet.java:210)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$mergeTheatreActivity$2(TheatreActivityServiceImpl.java:77)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:74)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:53)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:49)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:47)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 11:25:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:25:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:25:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:26:54 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 19184 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:26:54 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:26:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:26:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.
2021-12-21 11:26:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:26:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:26:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:26:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:26:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1288 ms
2021-12-21 11:26:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:26:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:26:55 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:26:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:26:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:26:55 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:26:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:26:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:26:56 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:26:57 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ab94a32, org.springframework.security.web.context.SecurityContextPersistenceFilter@682fe17b, org.springframework.security.web.header.HeaderWriterFilter@361d8567, org.springframework.web.filter.CorsFilter@70273633, org.springframework.security.web.authentication.logout.LogoutFilter@3fecb076, cz.osu.theatre.security.jwt.JwtTokenFilter@4e9bd2c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13e0f380, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@271a140c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f641fb7, org.springframework.security.web.session.SessionManagementFilter@6f87a7c7, org.springframework.security.web.access.ExceptionTranslationFilter@35c95869, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57f83c82]
2021-12-21 11:26:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:26:57 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.052 seconds (JVM running for 4.735)
2021-12-21 11:27:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 11:27:44 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 11:27:45 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:27:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:27:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:32:14 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 21944 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:32:14 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:32:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:32:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 74 ms. Found 6 JPA repository interfaces.
2021-12-21 11:32:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:32:15 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:32:15 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:32:15 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:32:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1303 ms
2021-12-21 11:32:15 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:32:15 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:32:15 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:32:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:32:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:32:15 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:32:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:32:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:32:26 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:32:27 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@642f8b7f, org.springframework.security.web.context.SecurityContextPersistenceFilter@20a25f66, org.springframework.security.web.header.HeaderWriterFilter@2911db81, org.springframework.web.filter.CorsFilter@3321fb65, org.springframework.security.web.authentication.logout.LogoutFilter@7348e75e, cz.osu.theatre.security.jwt.JwtTokenFilter@5ef591af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27575bcd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@af94b0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7272914b, org.springframework.security.web.session.SessionManagementFilter@7872e91f, org.springframework.security.web.access.ExceptionTranslationFilter@fb42c1c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@688efeb2]
2021-12-21 11:32:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:32:27 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 14.089 seconds (JVM running for 14.759)
2021-12-21 11:32:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 11:33:30 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 11:33:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:33:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:33:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:35:03 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 15716 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:35:03 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:35:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:35:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 85 ms. Found 6 JPA repository interfaces.
2021-12-21 11:35:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:35:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:35:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:35:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:35:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1333 ms
2021-12-21 11:35:04 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:35:04 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:35:04 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:35:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:35:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:35:04 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:35:17 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:35:17 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:35:17 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:35:18 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42150951, org.springframework.security.web.context.SecurityContextPersistenceFilter@21ed4a51, org.springframework.security.web.header.HeaderWriterFilter@70cac22a, org.springframework.web.filter.CorsFilter@248b2091, org.springframework.security.web.authentication.logout.LogoutFilter@43549c6c, cz.osu.theatre.security.jwt.JwtTokenFilter@1ecec098, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4891d727, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7741507c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b0c38f2, org.springframework.security.web.session.SessionManagementFilter@488279d3, org.springframework.security.web.access.ExceptionTranslationFilter@7fce1069, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5470753a]
2021-12-21 11:35:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:35:18 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 15.745 seconds (JVM running for 16.45)
2021-12-21 11:35:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 11:36:12 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 11:36:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:36:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:36:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:37:00 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 3708 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:37:00 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 89 ms. Found 6 JPA repository interfaces.
2021-12-21 11:37:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:37:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:37:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:37:01 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:37:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1343 ms
2021-12-21 11:37:02 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:37:02 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:37:02 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:37:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:37:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:37:02 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:37:13 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:37:13 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:37:13 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:37:14 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b24d5e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@37a0fc8c, org.springframework.security.web.header.HeaderWriterFilter@20a25f66, org.springframework.web.filter.CorsFilter@4c3c31a5, org.springframework.security.web.authentication.logout.LogoutFilter@375ff309, cz.osu.theatre.security.jwt.JwtTokenFilter@a251135, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9a37591, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@558aa1f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5002be8e, org.springframework.security.web.session.SessionManagementFilter@1831447c, org.springframework.security.web.access.ExceptionTranslationFilter@7872e91f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5cc152f9]
2021-12-21 11:37:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:37:14 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 14.342 seconds (JVM running for 15.022)
2021-12-21 11:37:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 11:37:51 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: cz.osu.theatre.models.entities.Author; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:95)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:53)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:49)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:47)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 27 common frames omitted
2021-12-21 11:37:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:37:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:37:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:41:32 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 17416 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:41:32 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:41:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:41:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 6 JPA repository interfaces.
2021-12-21 11:41:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:41:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:41:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:41:33 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:41:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1364 ms
2021-12-21 11:41:33 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:41:33 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:41:33 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:41:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:41:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:41:34 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:41:42 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:41:42 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:41:43 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:41:43 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7272914b, org.springframework.security.web.context.SecurityContextPersistenceFilter@13866865, org.springframework.security.web.header.HeaderWriterFilter@57a0c261, org.springframework.web.filter.CorsFilter@663f24e6, org.springframework.security.web.authentication.logout.LogoutFilter@7792e14f, cz.osu.theatre.security.jwt.JwtTokenFilter@3c82bac3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550574cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37a0fc8c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e532f2d, org.springframework.security.web.session.SessionManagementFilter@27575bcd, org.springframework.security.web.access.ExceptionTranslationFilter@51b41740, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@131c5bd]
2021-12-21 11:41:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:41:43 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 12.158 seconds (JVM running for 12.902)
2021-12-21 11:41:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 11:42:34 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 11:42:40 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:42:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:42:40 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:44:55 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 5524 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:44:55 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:44:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:44:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 6 JPA repository interfaces.
2021-12-21 11:44:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:44:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:44:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:44:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:44:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1530 ms
2021-12-21 11:44:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:44:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:44:57 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:44:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:44:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:44:57 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:45:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:45:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:45:08 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:45:08 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62732be7, org.springframework.security.web.context.SecurityContextPersistenceFilter@35c95869, org.springframework.security.web.header.HeaderWriterFilter@105fe81e, org.springframework.web.filter.CorsFilter@278150a1, org.springframework.security.web.authentication.logout.LogoutFilter@587f6634, cz.osu.theatre.security.jwt.JwtTokenFilter@694b1ddb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@361d8567, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49cd08f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e170abe, org.springframework.security.web.session.SessionManagementFilter@7ee3a2ed, org.springframework.security.web.access.ExceptionTranslationFilter@787a4519, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b24d5e4]
2021-12-21 11:45:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:45:09 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 13.843 seconds (JVM running for 14.606)
2021-12-21 11:45:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 11:46:30 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 11:46:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:46:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:46:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:47:46 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 14380 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:47:46 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:47:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:47:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 6 JPA repository interfaces.
2021-12-21 11:47:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:47:47 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:47:47 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:47:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:47:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1309 ms
2021-12-21 11:47:47 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:47:47 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:47:47 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:47:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:47:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:47:48 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:47:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:47:58 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:47:59 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:47:59 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42150951, org.springframework.security.web.context.SecurityContextPersistenceFilter@4891d727, org.springframework.security.web.header.HeaderWriterFilter@5862dda4, org.springframework.web.filter.CorsFilter@248b2091, org.springframework.security.web.authentication.logout.LogoutFilter@4eace42b, cz.osu.theatre.security.jwt.JwtTokenFilter@8ecc457, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e7113f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ba3c03d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b0c38f2, org.springframework.security.web.session.SessionManagementFilter@21ed4a51, org.springframework.security.web.access.ExceptionTranslationFilter@70cac22a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5470753a]
2021-12-21 11:47:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:47:59 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 14.011 seconds (JVM running for 14.767)
2021-12-21 11:48:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 11:48:01 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: cz.osu.theatre.models.entities.Author; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:297)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.mergeTheatreActivity(TheatreActivityServiceImpl.java:74)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$0(TheatreActivityServiceImpl.java:53)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:49)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:47)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$4ecfb9df.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: cz.osu.theatre.models.entities.Author
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:120)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:110)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:744)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:712)
	at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)
	at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)
	at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)
	at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)
	at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)
	at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)
	at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy2/jdk.proxy2.$Proxy102.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 31 common frames omitted
2021-12-21 11:48:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:48:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:48:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:51:11 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 14940 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:51:11 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:51:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:51:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 6 JPA repository interfaces.
2021-12-21 11:51:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:51:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:51:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:51:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:51:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1338 ms
2021-12-21 11:51:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:51:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:51:13 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:51:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:51:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:51:13 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:51:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:51:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:51:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:51:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b24d5e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@37a0fc8c, org.springframework.security.web.header.HeaderWriterFilter@20a25f66, org.springframework.web.filter.CorsFilter@4c3c31a5, org.springframework.security.web.authentication.logout.LogoutFilter@375ff309, cz.osu.theatre.security.jwt.JwtTokenFilter@6cc44207, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9a37591, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@558aa1f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5002be8e, org.springframework.security.web.session.SessionManagementFilter@1831447c, org.springframework.security.web.access.ExceptionTranslationFilter@7872e91f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5cc152f9]
2021-12-21 11:51:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:51:15 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.084 seconds (JVM running for 4.969)
2021-12-21 11:51:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 11:52:37 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 11:52:39 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:52:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:52:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 11:53:00 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 17152 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 11:53:00 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 11:53:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 11:53:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 100 ms. Found 6 JPA repository interfaces.
2021-12-21 11:53:01 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 11:53:01 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 11:53:01 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 11:53:01 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 11:53:01 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1516 ms
2021-12-21 11:53:01 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 11:53:01 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 11:53:02 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 11:53:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 11:53:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 11:53:02 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 11:53:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 11:53:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:53:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 11:53:03 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5186c801, org.springframework.security.web.context.SecurityContextPersistenceFilter@2fc435e9, org.springframework.security.web.header.HeaderWriterFilter@4f55a864, org.springframework.web.filter.CorsFilter@20e41f13, org.springframework.security.web.authentication.logout.LogoutFilter@208185c0, cz.osu.theatre.security.jwt.JwtTokenFilter@c29b0dc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5da2966, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57a0c261, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fbfd28b, org.springframework.security.web.session.SessionManagementFilter@46290193, org.springframework.security.web.access.ExceptionTranslationFilter@4a3333be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35e357b]
2021-12-21 11:53:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 11:53:04 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.575 seconds (JVM running for 5.376)
2021-12-21 11:53:24 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-21 11:53:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-12-21 11:53:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2021-12-21 11:53:25 [http-nio-8080-exec-1] INFO  c.o.t.c.AuthenticationController - Registrating user with username: R19242 , email: r19242@student.osu.cz
2021-12-21 11:53:25 [http-nio-8080-exec-1] INFO  c.o.t.c.AuthenticationController - User was registered!
2021-12-21 11:53:28 [http-nio-8080-exec-3] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 11:53:28 [http-nio-8080-exec-3] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 11:53:44 [http-nio-8080-exec-5] INFO  c.o.t.c.TheatreActivityController - Deleting theatre activity
2021-12-21 11:53:45 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1451, SQLState: 23000
2021-12-21 11:53:45 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Cannot delete or update a parent row: a foreign key constraint fails (`vbap`.`theatre_activity_author`, CONSTRAINT `FK8n4ph0uyy8vl9rkas19cdpjvx` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`))
2021-12-21 11:53:45 [http-nio-8080-exec-5] INFO  o.h.e.j.b.internal.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements
2021-12-21 11:53:45 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause
java.sql.SQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`vbap`.`theatre_activity_author`, CONSTRAINT `FK8n4ph0uyy8vl9rkas19cdpjvx` FOREIGN KEY (`author_id`) REFERENCES `author` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3615)
	at org.hibernate.persister.entity.AbstractEntityPersister.delete(AbstractEntityPersister.java:3875)
	at org.hibernate.action.internal.EntityDeleteAction.execute(EntityDeleteAction.java:123)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:723)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.delete(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.deleteTheatreActivity(TheatreActivityServiceImpl.java:130)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$52584335.deleteTheatreActivity(<generated>)
	at cz.osu.theatre.controllers.TheatreActivityController.updateTheatreActivity(TheatreActivityController.java:103)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at cz.osu.theatre.security.jwt.JwtTokenFilter.doFilterInternal(JwtTokenFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 11:54:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 11:54:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 11:54:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 12:04:55 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 9036 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 12:04:55 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 12:04:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 12:04:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 6 JPA repository interfaces.
2021-12-21 12:04:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 12:04:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 12:04:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 12:04:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 12:04:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1662 ms
2021-12-21 12:04:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 12:04:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 12:04:57 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 12:04:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 12:04:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 12:04:58 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 12:04:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 12:04:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 12:04:59 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 12:05:00 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e976553, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fb1948c, org.springframework.security.web.header.HeaderWriterFilter@3225d950, org.springframework.web.filter.CorsFilter@3c108c05, org.springframework.security.web.authentication.logout.LogoutFilter@51b41740, cz.osu.theatre.security.jwt.JwtTokenFilter@5c9e6d95, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@230d013b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c2edbe7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@193d7ac7, org.springframework.security.web.session.SessionManagementFilter@1fc8047f, org.springframework.security.web.access.ExceptionTranslationFilter@57617a75, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c70c771]
2021-12-21 12:05:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 12:05:00 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 5.159 seconds (JVM running for 6.203)
2021-12-21 12:05:42 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-21 12:05:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-12-21 12:05:42 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2021-12-21 12:05:42 [http-nio-8080-exec-1] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-21T12:03:28Z. Current time: 2021-12-21T12:05:42Z, a difference of 134840 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 12:05:42 [http-nio-8080-exec-1] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 12:05:49 [http-nio-8080-exec-3] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 12:05:49 [http-nio-8080-exec-3] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 12:06:07 [http-nio-8080-exec-5] INFO  c.o.t.c.TheatreActivityController - Deleting theatre activity
2021-12-21 12:06:07 [http-nio-8080-exec-5] INFO  c.o.t.c.TheatreActivityController - Theatre activity was successfully deleted!
2021-12-21 12:06:52 [http-nio-8080-exec-7] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-15T19:56:57Z. Current time: 2021-12-21T12:06:52Z, a difference of 490195556 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 12:06:52 [http-nio-8080-exec-7] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 12:07:10 [http-nio-8080-exec-9] INFO  c.o.t.controllers.RatingController - Creating rating for theatre activity with id: 1 and value: 4
2021-12-21 12:07:10 [http-nio-8080-exec-9] INFO  c.o.t.controllers.RatingController - Rating was successfully created!
2021-12-21 12:07:38 [http-nio-8080-exec-1] INFO  c.o.t.c.TheatreActivityController - Deleting theatre activity
2021-12-21 12:07:38 [http-nio-8080-exec-1] INFO  c.o.t.c.TheatreActivityController - Theatre activity was successfully deleted!
2021-12-21 12:23:55 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 12:23:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 12:23:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 12:24:38 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 12960 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 12:24:38 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 12:24:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 12:24:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 6 JPA repository interfaces.
2021-12-21 12:24:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 12:24:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 12:24:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 12:24:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 12:24:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1384 ms
2021-12-21 12:24:40 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 12:24:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 12:24:40 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 12:24:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 12:24:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 12:24:40 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 12:24:52 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 12:24:52 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 12:24:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 12:24:53 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70e8c019, org.springframework.security.web.context.SecurityContextPersistenceFilter@39a30d1a, org.springframework.security.web.header.HeaderWriterFilter@64fba3e6, org.springframework.web.filter.CorsFilter@2a79da3a, org.springframework.security.web.authentication.logout.LogoutFilter@bf18412, cz.osu.theatre.security.jwt.JwtTokenFilter@5f4df55e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1958524b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e225c34, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a191f83, org.springframework.security.web.session.SessionManagementFilter@73a1a1b4, org.springframework.security.web.access.ExceptionTranslationFilter@5e72c82a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35fac3ba]
2021-12-21 12:24:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 12:24:53 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 15.371 seconds (JVM running for 16.069)
2021-12-21 12:25:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 12:25:03 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 12:25:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 12:25:51 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 12:26:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 12:26:01 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 12:26:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 12:26:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 12:26:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 12:57:52 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 12232 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 12:57:52 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 12:57:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 12:57:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 80 ms. Found 6 JPA repository interfaces.
2021-12-21 12:57:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 12:57:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 12:57:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 12:57:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 12:57:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1376 ms
2021-12-21 12:57:53 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 12:57:53 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 12:57:53 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 12:57:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 12:57:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 12:57:54 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 12:57:55 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 12:57:55 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 12:57:55 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 12:57:55 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b634e24, org.springframework.security.web.context.SecurityContextPersistenceFilter@7872e91f, org.springframework.security.web.header.HeaderWriterFilter@fb42c1c, org.springframework.web.filter.CorsFilter@7b0dfa91, org.springframework.security.web.authentication.logout.LogoutFilter@3ee68eb2, cz.osu.theatre.security.jwt.JwtTokenFilter@6cc44207, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@488279d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@105fe81e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@642f8b7f, org.springframework.security.web.session.SessionManagementFilter@1504b493, org.springframework.security.web.access.ExceptionTranslationFilter@5ca7619f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15c3849f]
2021-12-21 12:57:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 12:57:56 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.401 seconds (JVM running for 5.392)
2021-12-21 12:57:58 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 12:57:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 12:57:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 12:58:16 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 21664 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 12:58:16 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 12:58:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 12:58:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 88 ms. Found 6 JPA repository interfaces.
2021-12-21 12:58:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 12:58:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 12:58:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 12:58:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 12:58:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1506 ms
2021-12-21 12:58:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 12:58:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 12:58:18 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 12:58:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 12:58:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 12:58:18 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 12:58:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 12:58:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 12:58:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 12:58:38 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7eb774c3, org.springframework.security.web.context.SecurityContextPersistenceFilter@2648aa1b, org.springframework.security.web.header.HeaderWriterFilter@670ae31f, org.springframework.web.filter.CorsFilter@72015156, org.springframework.security.web.authentication.logout.LogoutFilter@57e6d56a, cz.osu.theatre.security.jwt.JwtTokenFilter@72bce309, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13b4ee4e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5703c1fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a42145, org.springframework.security.web.session.SessionManagementFilter@220f6a3c, org.springframework.security.web.access.ExceptionTranslationFilter@669daa93, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@185b7cc6]
2021-12-21 12:58:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 12:58:38 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 23.421 seconds (JVM running for 24.36)
2021-12-21 12:58:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 12:58:51 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 12:58:58 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 12:58:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 12:58:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 13:00:02 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 15520 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 13:00:02 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 13:00:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 13:00:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 102 ms. Found 6 JPA repository interfaces.
2021-12-21 13:00:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 13:00:03 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 13:00:03 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 13:00:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 13:00:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1816 ms
2021-12-21 13:00:04 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 13:00:04 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 13:00:04 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 13:00:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 13:00:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 13:00:04 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 13:00:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 13:00:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 13:00:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 13:00:06 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32c08610, org.springframework.security.web.context.SecurityContextPersistenceFilter@587f6634, org.springframework.security.web.header.HeaderWriterFilter@240df292, org.springframework.web.filter.CorsFilter@44ec4a38, org.springframework.security.web.authentication.logout.LogoutFilter@36d5c2ce, cz.osu.theatre.security.jwt.JwtTokenFilter@5dd6f517, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ef28dc4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30811f91, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@755009f2, org.springframework.security.web.session.SessionManagementFilter@41d84abb, org.springframework.security.web.access.ExceptionTranslationFilter@418bdde9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55821edf]
2021-12-21 13:00:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 13:00:07 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 5.454 seconds (JVM running for 9.516)
2021-12-21 13:00:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 13:01:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 13:01:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 13:01:16 [scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'dataSourceScriptDatabaseInitializer': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$1.orderedStream(DefaultListableBeanFactory.java:481)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:167)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.findByNdmId(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.isActivitySaved(TheatreActivityServiceImpl.java:141)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.lambda$saveAllNewActivities$1(TheatreActivityServiceImpl.java:49)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.saveAllNewActivities(TheatreActivityServiceImpl.java:47)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$574b89b3.saveAllNewActivities(<generated>)
	at cz.osu.theatre.schedulers.TheatreActivitiesLoader.loadData(TheatreActivitiesLoader.java:21)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 13:01:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 13:01:41 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 17236 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 13:01:41 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 13:01:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 13:01:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.
2021-12-21 13:01:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 13:01:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 13:01:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 13:01:42 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 13:01:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1392 ms
2021-12-21 13:01:42 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 13:01:42 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 13:01:43 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 13:01:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 13:01:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 13:01:43 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 13:01:43 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 13:01:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 13:01:44 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 13:01:44 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58041b11, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ca7619f, org.springframework.security.web.header.HeaderWriterFilter@29d563bd, org.springframework.web.filter.CorsFilter@58189b85, org.springframework.security.web.authentication.logout.LogoutFilter@1ba3c03d, cz.osu.theatre.security.jwt.JwtTokenFilter@1e66bf2d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fb42c1c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e02fb23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49222187, org.springframework.security.web.session.SessionManagementFilter@5da2966, org.springframework.security.web.access.ExceptionTranslationFilter@7f53a31f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@478cebdb]
2021-12-21 13:01:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 13:01:45 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.314 seconds (JVM running for 5.062)
2021-12-21 13:01:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 13:02:33 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 13:02:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 13:02:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 13:02:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 19:54:50 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 16448 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 19:54:50 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 19:54:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 19:54:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 102 ms. Found 6 JPA repository interfaces.
2021-12-21 19:54:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 19:54:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 19:54:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 19:54:54 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 19:54:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3186 ms
2021-12-21 19:54:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 19:54:54 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 19:54:54 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 19:54:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 19:54:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 19:54:55 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 19:54:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 19:54:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 19:54:57 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 19:54:58 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@712e4b18, org.springframework.security.web.context.SecurityContextPersistenceFilter@35c95869, org.springframework.security.web.header.HeaderWriterFilter@105fe81e, org.springframework.web.filter.CorsFilter@af96ac9, org.springframework.security.web.authentication.logout.LogoutFilter@587f6634, cz.osu.theatre.security.jwt.JwtTokenFilter@8ecc457, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@361d8567, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49cd08f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27d0376f, org.springframework.security.web.session.SessionManagementFilter@7ee3a2ed, org.springframework.security.web.access.ExceptionTranslationFilter@787a4519, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39fb5ddf]
2021-12-21 19:54:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 19:54:58 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 8.275 seconds (JVM running for 20.304)
2021-12-21 19:55:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 19:55:03 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 19:55:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 19:55:51 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 19:56:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 19:56:01 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 19:56:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 19:56:51 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 19:57:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 19:57:01 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 19:57:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 19:57:51 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 19:58:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 19:58:01 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 19:58:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 19:58:51 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 19:59:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 19:59:01 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 19:59:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 19:59:51 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 20:00:00 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 20:00:01 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 20:00:50 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - Start loading new theatre activities
2021-12-21 20:00:52 [scheduling-1] INFO  c.o.t.s.TheatreActivitiesLoader - End of loading new theatre activities
2021-12-21 20:00:55 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 20:00:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 20:00:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 20:01:37 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 8692 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 20:01:37 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 20:01:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 20:01:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 6 JPA repository interfaces.
2021-12-21 20:01:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 20:01:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 20:01:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 20:01:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 20:01:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1620 ms
2021-12-21 20:01:39 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 20:01:39 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 20:01:39 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 20:01:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 20:01:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 20:01:40 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 20:01:41 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 20:01:41 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 20:01:42 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 20:01:42 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f740044, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ee3a2ed, org.springframework.security.web.header.HeaderWriterFilter@787a4519, org.springframework.web.filter.CorsFilter@62732be7, org.springframework.security.web.authentication.logout.LogoutFilter@41d84abb, cz.osu.theatre.security.jwt.JwtTokenFilter@5690c2a8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35c95869, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7348e75e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@278150a1, org.springframework.security.web.session.SessionManagementFilter@4769537a, org.springframework.security.web.access.ExceptionTranslationFilter@1e7113f8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4ddb9a8]
2021-12-21 20:01:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 20:01:43 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 5.972 seconds (JVM running for 6.868)
2021-12-21 20:12:30 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-21 20:12:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-12-21 20:12:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2021-12-21 20:12:30 [http-nio-8080-exec-1] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-21T12:15:49Z. Current time: 2021-12-21T20:12:30Z, a difference of 28601789 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 20:12:30 [http-nio-8080-exec-1] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 20:12:37 [http-nio-8080-exec-3] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 20:12:37 [http-nio-8080-exec-3] ERROR c.o.t.s.a.UserDetailsServiceImpl - User not found in the database
2021-12-21 20:12:37 [http-nio-8080-exec-3] ERROR c.o.t.errors.RestExceptionHandler - Invoked exception type: BAD_REQUEST, full message: Bad credentials 
2021-12-21 20:12:41 [http-nio-8080-exec-4] INFO  c.o.t.c.AuthenticationController - Registrating user with username: R19242 , email: r19242@student.osu.cz
2021-12-21 20:12:42 [http-nio-8080-exec-4] INFO  c.o.t.c.AuthenticationController - User was registered!
2021-12-21 20:12:44 [http-nio-8080-exec-6] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 20:12:45 [http-nio-8080-exec-6] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 20:13:09 [http-nio-8080-exec-8] INFO  c.o.t.controllers.RatingController - Creating rating for theatre activity with id: 1 and value: 4
2021-12-21 20:13:09 [http-nio-8080-exec-8] INFO  c.o.t.controllers.RatingController - Rating was successfully created!
2021-12-21 20:13:22 [http-nio-8080-exec-10] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 20:13:28 [http-nio-8080-exec-2] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 20:13:54 [http-nio-8080-exec-3] INFO  c.o.t.c.TheatreActivityController - Loading top 5 theatre activities
2021-12-21 20:13:55 [http-nio-8080-exec-3] INFO  c.o.t.c.TheatreActivityController - Theatre activities were successfully loaded!
2021-12-21 20:14:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 20:14:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 20:14:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 20:14:28 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 7360 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 20:14:28 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 20:14:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 20:14:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 91 ms. Found 6 JPA repository interfaces.
2021-12-21 20:14:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 20:14:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 20:14:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 20:14:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 20:14:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1605 ms
2021-12-21 20:14:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 20:14:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 20:14:30 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 20:14:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 20:14:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 20:14:31 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 20:14:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 20:14:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 20:14:32 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 20:14:33 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5186c801, org.springframework.security.web.context.SecurityContextPersistenceFilter@46290193, org.springframework.security.web.header.HeaderWriterFilter@4a3333be, org.springframework.web.filter.CorsFilter@20e41f13, org.springframework.security.web.authentication.logout.LogoutFilter@105fe81e, cz.osu.theatre.security.jwt.JwtTokenFilter@74a03bd5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fc435e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51b41740, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fbfd28b, org.springframework.security.web.session.SessionManagementFilter@2dfd157b, org.springframework.security.web.access.ExceptionTranslationFilter@5eb041b5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35e357b]
2021-12-21 20:14:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 20:14:33 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 5.358 seconds (JVM running for 6.551)
2021-12-21 20:15:30 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-21 20:15:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-12-21 20:15:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2021-12-21 20:15:30 [http-nio-8080-exec-1] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-15T19:05:58Z. Current time: 2021-12-21T20:15:30Z, a difference of 522572238 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 20:15:30 [http-nio-8080-exec-1] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 20:15:57 [http-nio-8080-exec-4] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 20:15:57 [http-nio-8080-exec-4] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 20:19:44 [http-nio-8080-exec-10] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-21T12:15:49Z. Current time: 2021-12-21T20:19:44Z, a difference of 29035076 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 20:19:44 [http-nio-8080-exec-10] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 20:19:50 [http-nio-8080-exec-2] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 20:19:51 [http-nio-8080-exec-2] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 20:20:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 20:20:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 20:20:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 20:20:28 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 12468 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 20:20:29 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 85 ms. Found 6 JPA repository interfaces.
2021-12-21 20:20:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 20:20:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 20:20:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 20:20:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 20:20:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1594 ms
2021-12-21 20:20:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 20:20:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 20:20:31 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 20:20:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 20:20:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 20:20:31 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 20:20:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 20:20:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 20:20:32 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 20:20:33 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3897f9ae, org.springframework.security.web.context.SecurityContextPersistenceFilter@51b41740, org.springframework.security.web.header.HeaderWriterFilter@7d2be319, org.springframework.web.filter.CorsFilter@6c767288, org.springframework.security.web.authentication.logout.LogoutFilter@4769537a, cz.osu.theatre.security.jwt.JwtTokenFilter@55e4dd68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57a0c261, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7872e91f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@510e6b93, org.springframework.security.web.session.SessionManagementFilter@2911db81, org.springframework.security.web.access.ExceptionTranslationFilter@5759edff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@58041b11]
2021-12-21 20:20:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 20:20:33 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 6.254 seconds (JVM running for 7.164)
2021-12-21 20:21:16 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-21 20:21:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-12-21 20:21:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2021-12-21 20:21:16 [http-nio-8080-exec-1] INFO  c.o.t.controllers.RatingController - Creating rating for theatre activity with id: 1 and value: 5
2021-12-21 20:21:18 [http-nio-8080-exec-1] INFO  c.o.t.controllers.RatingController - Rating was successfully created!
2021-12-21 20:21:37 [http-nio-8080-exec-3] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-14T16:18:23Z. Current time: 2021-12-21T20:21:37Z, a difference of 619394794 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 20:21:37 [http-nio-8080-exec-3] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 20:21:47 [http-nio-8080-exec-5] INFO  c.o.t.controllers.RatingController - Updating rating for theatre activity with id: 5 and value: 5 for rating with id: 2
2021-12-21 20:21:49 [http-nio-8080-exec-5] INFO  c.o.t.controllers.RatingController - Rating was successfully updated!
2021-12-21 20:23:28 [http-nio-8080-exec-7] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-14T17:17:42Z. Current time: 2021-12-21T20:23:28Z, a difference of 615946066 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 20:23:28 [http-nio-8080-exec-7] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 20:23:36 [http-nio-8080-exec-9] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 20:23:37 [http-nio-8080-exec-9] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 20:23:48 [http-nio-8080-exec-1] INFO  c.o.t.controllers.RatingController - Loading all ratings for theatre activity with id: 1
2021-12-21 20:23:48 [http-nio-8080-exec-1] ERROR c.o.t.errors.RestExceptionHandler - Invoked exception type: NOT_FOUND, full message: Could not find a rating with id: 1 for activity with id: 5 
2021-12-21 20:23:58 [http-nio-8080-exec-3] INFO  c.o.t.controllers.RatingController - Loading all ratings for theatre activity with id: 2
2021-12-21 20:23:58 [http-nio-8080-exec-3] INFO  c.o.t.controllers.RatingController - Ratings was successfully loaded!
2021-12-21 20:24:21 [http-nio-8080-exec-5] INFO  c.o.t.controllers.RatingController - Loading all ratings for theatre activity with id: 5
2021-12-21 20:24:21 [http-nio-8080-exec-5] INFO  c.o.t.controllers.RatingController - Ratings was successfully loaded!
2021-12-21 20:24:42 [http-nio-8080-exec-7] INFO  c.o.t.controllers.RatingController - Loading all ratings for user with id: 1
2021-12-21 20:24:42 [http-nio-8080-exec-7] INFO  c.o.t.controllers.RatingController - Ratings was successfully loaded!
2021-12-21 20:25:28 [http-nio-8080-exec-9] INFO  c.o.t.controllers.DivisionController - Loading all divisions
2021-12-21 20:25:28 [http-nio-8080-exec-9] INFO  c.o.t.controllers.DivisionController - Divisions was successfully loaded!
2021-12-21 20:26:06 [http-nio-8080-exec-5] INFO  c.o.t.controllers.DivisionController - Loading all divisions for activity with id: 5
2021-12-21 20:26:06 [http-nio-8080-exec-5] INFO  c.o.t.controllers.DivisionController - Divisions was successfully loaded!
2021-12-21 20:26:30 [http-nio-8080-exec-7] INFO  c.o.t.controllers.DivisionController - Creating division with name: Muzik
2021-12-21 20:26:30 [http-nio-8080-exec-7] INFO  c.o.t.controllers.DivisionController - Division was successfully created!
2021-12-21 20:26:40 [http-nio-8080-exec-9] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-14T18:36:12Z. Current time: 2021-12-21T20:26:40Z, a difference of 611428841 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 20:26:40 [http-nio-8080-exec-9] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 20:26:52 [http-nio-8080-exec-3] INFO  c.o.t.controllers.DivisionController - Updating division for name: Muzike
2021-12-21 20:26:52 [http-nio-8080-exec-3] INFO  c.o.t.controllers.DivisionController - Division was successfully updated!
2021-12-21 20:27:03 [http-nio-8080-exec-5] INFO  c.o.t.controllers.DivisionController - Loading all divisions
2021-12-21 20:27:03 [http-nio-8080-exec-5] INFO  c.o.t.controllers.DivisionController - Divisions was successfully loaded!
2021-12-21 20:27:25 [http-nio-8080-exec-9] INFO  c.o.t.controllers.DivisionController - Deleting division with id: 2
2021-12-21 20:27:25 [http-nio-8080-exec-9] ERROR c.o.t.errors.RestExceptionHandler - Invoked exception type: INTERNAL_SERVER_ERROR, full message: Could not delete division with id: 2 because division has associations with: 100 activities 
2021-12-21 20:27:36 [http-nio-8080-exec-10] INFO  c.o.t.controllers.DivisionController - Deleting division with id: 9
2021-12-21 20:27:36 [http-nio-8080-exec-10] INFO  c.o.t.controllers.DivisionController - Deleting was successfully updated!
2021-12-21 20:30:20 [http-nio-8080-exec-2] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-21T20:25:57Z. Current time: 2021-12-21T20:30:20Z, a difference of 263846 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 20:30:20 [http-nio-8080-exec-2] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 20:31:03 [http-nio-8080-exec-5] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 20:31:04 [http-nio-8080-exec-5] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 20:32:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 20:32:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 20:32:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 20:32:28 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 13568 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 20:32:28 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 20:32:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 20:32:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 6 JPA repository interfaces.
2021-12-21 20:32:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 20:32:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 20:32:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 20:32:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 20:32:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1364 ms
2021-12-21 20:32:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 20:32:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 20:32:30 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 20:32:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 20:32:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 20:32:30 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 20:32:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 20:32:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 20:32:31 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 20:32:32 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20e41f13, org.springframework.security.web.context.SecurityContextPersistenceFilter@bf18412, org.springframework.security.web.header.HeaderWriterFilter@2c2edbe7, org.springframework.web.filter.CorsFilter@6fbfd28b, org.springframework.security.web.authentication.logout.LogoutFilter@1831447c, cz.osu.theatre.security.jwt.JwtTokenFilter@87fc0fc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52c27d53, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5862dda4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3fa50a24, org.springframework.security.web.session.SessionManagementFilter@6ad7a305, org.springframework.security.web.access.ExceptionTranslationFilter@13b4ee4e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@724c26e0]
2021-12-21 20:32:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 20:32:32 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.615 seconds (JVM running for 5.334)
2021-12-21 20:32:40 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-21 20:32:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-12-21 20:32:40 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2021-12-21 20:32:40 [http-nio-8080-exec-1] INFO  c.o.t.controllers.AuthorController - Searching for authors with firstName: Tomáš and lastName: null
2021-12-21 20:32:41 [http-nio-8080-exec-1] INFO  c.o.t.controllers.AuthorController - End of search
2021-12-21 20:33:43 [http-nio-8080-exec-3] INFO  c.o.t.controllers.AuthorController - Searching for authors with firstName: null and lastName: svo
2021-12-21 20:33:43 [http-nio-8080-exec-3] INFO  c.o.t.controllers.AuthorController - End of search
2021-12-21 20:34:25 [http-nio-8080-exec-5] INFO  c.o.t.controllers.AuthorController - Searching for authors with firstName: tom and lastName: svo
2021-12-21 20:34:25 [http-nio-8080-exec-5] INFO  c.o.t.controllers.AuthorController - End of search
2021-12-21 20:36:16 [http-nio-8080-exec-7] INFO  c.o.t.c.TheatreActivityController - Loading theatre activities of author with id: 5
2021-12-21 20:36:16 [http-nio-8080-exec-7] INFO  c.o.t.c.TheatreActivityController - Theatre activities were successfully loaded!
2021-12-21 20:36:59 [http-nio-8080-exec-9] INFO  c.o.t.controllers.AuthorController - Loading authors for theatre id: 5
2021-12-21 20:36:59 [http-nio-8080-exec-9] INFO  c.o.t.controllers.AuthorController - Loading of authors was successful
2021-12-21 20:37:13 [http-nio-8080-exec-1] INFO  c.o.t.controllers.AuthorController - Loading authors for theatre id: 1
2021-12-21 20:37:13 [http-nio-8080-exec-1] INFO  c.o.t.controllers.AuthorController - Loading of authors was successful
2021-12-21 20:38:35 [http-nio-8080-exec-3] INFO  c.o.t.controllers.AuthorController - Creating author with firstName: Petr and lastName: Novák
2021-12-21 20:38:36 [http-nio-8080-exec-3] INFO  c.o.t.controllers.AuthorController - Author was successfully created!
2021-12-21 20:38:57 [http-nio-8080-exec-5] INFO  c.o.t.controllers.AuthorController - Creating author with firstName: Petr and lastName: Novák
2021-12-21 20:38:57 [http-nio-8080-exec-5] INFO  c.o.t.controllers.AuthorController - Author was successfully created!
2021-12-21 21:01:41 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 21:01:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 21:01:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 21:02:02 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 15336 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 21:02:02 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 21:02:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 21:02:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 147 ms. Found 6 JPA repository interfaces.
2021-12-21 21:02:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 21:02:08 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6442 ms
2021-12-21 21:02:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 21:02:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 21:02:09 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 21:02:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 21:02:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 21:02:09 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 21:02:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 21:02:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 21:07:49 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 2324 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 21:07:49 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 21:07:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 21:07:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 6 JPA repository interfaces.
2021-12-21 21:07:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 21:07:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 21:07:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 21:07:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 21:07:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1375 ms
2021-12-21 21:07:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 21:07:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 21:07:51 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 21:07:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 21:07:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 21:07:51 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 21:07:52 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 21:07:52 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 21:07:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 21:07:53 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69d61a6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d84688f, org.springframework.security.web.header.HeaderWriterFilter@749c0669, org.springframework.web.filter.CorsFilter@759b05d1, org.springframework.security.web.authentication.logout.LogoutFilter@462b239f, cz.osu.theatre.security.jwt.JwtTokenFilter@70819ba8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7348e75e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13e0f380, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2696b687, org.springframework.security.web.session.SessionManagementFilter@1a4ae53d, org.springframework.security.web.access.ExceptionTranslationFilter@1ba3c03d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@712e4b18]
2021-12-21 21:07:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 21:07:53 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.388 seconds (JVM running for 5.075)
2021-12-21 21:09:07 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-21 21:09:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-12-21 21:09:07 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2021-12-21 21:09:07 [http-nio-8080-exec-1] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 21:09:08 [http-nio-8080-exec-1] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 21:09:52 [http-nio-8080-exec-3] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-21T20:41:04Z. Current time: 2021-12-21T21:09:52Z, a difference of 1728076 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 21:09:52 [http-nio-8080-exec-3] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 21:10:01 [http-nio-8080-exec-5] INFO  c.o.t.controllers.AuthorController - Creating author with firstName: Petr and lastName: Novák
2021-12-21 21:10:01 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2] with root cause
javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128)
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1659)
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy117.findByFirstNameAndLastName(Unknown Source)
	at cz.osu.theatre.services.AuthorServiceImpl.createAuthor(AuthorServiceImpl.java:42)
	at cz.osu.theatre.controllers.AuthorController.createAuthor(AuthorController.java:55)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at cz.osu.theatre.security.jwt.JwtTokenFilter.doFilterInternal(JwtTokenFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 21:10:30 [http-nio-8080-exec-6] INFO  c.o.t.controllers.AuthorController - Creating author with firstName: Petr and lastName: Novák
2021-12-21 21:10:30 [http-nio-8080-exec-6] ERROR c.o.t.errors.RestExceptionHandler - Invoked exception type: BAD_REQUEST, full message: Could not create a author with firstname: Petr and lastname: Novák 
2021-12-21 21:20:18 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 21:20:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 21:20:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2021-12-21 21:20:28 [main] INFO  cz.osu.theatre.TheatreApplication - Starting TheatreApplication using Java 16.0.1 on PC with PID 5248 (C:\Users\Lukáš Richter\Desktop\theatre\target\classes started by lukas in C:\Users\Lukáš Richter\Desktop\theatre)
2021-12-21 21:20:28 [main] INFO  cz.osu.theatre.TheatreApplication - No active profile set, falling back to default profiles: default
2021-12-21 21:20:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-12-21 21:20:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 6 JPA repository interfaces.
2021-12-21 21:20:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2021-12-21 21:20:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2021-12-21 21:20:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-21 21:20:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2021-12-21 21:20:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1549 ms
2021-12-21 21:20:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2021-12-21 21:20:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.32.Final
2021-12-21 21:20:30 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-12-21 21:20:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2021-12-21 21:20:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2021-12-21 21:20:30 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2021-12-21 21:20:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-12-21 21:20:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 21:20:32 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-12-21 21:20:32 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15c3849f, org.springframework.security.web.context.SecurityContextPersistenceFilter@57a0c261, org.springframework.security.web.header.HeaderWriterFilter@2dfd157b, org.springframework.web.filter.CorsFilter@4a7e469d, org.springframework.security.web.authentication.logout.LogoutFilter@7ee3a2ed, cz.osu.theatre.security.jwt.JwtTokenFilter@55e4dd68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@299ddfff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20a25f66, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@688efeb2, org.springframework.security.web.session.SessionManagementFilter@51b41740, org.springframework.security.web.access.ExceptionTranslationFilter@7d2be319, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2665a2e7]
2021-12-21 21:20:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2021-12-21 21:20:33 [main] INFO  cz.osu.theatre.TheatreApplication - Started TheatreApplication in 4.97 seconds (JVM running for 5.807)
2021-12-21 21:24:03 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-21 21:24:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2021-12-21 21:24:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2021-12-21 21:24:03 [http-nio-8080-exec-1] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-21T21:19:08Z. Current time: 2021-12-21T21:24:03Z, a difference of 295358 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 21:24:03 [http-nio-8080-exec-1] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 21:24:21 [http-nio-8080-exec-3] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 21:24:21 [http-nio-8080-exec-3] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 21:24:31 [http-nio-8080-exec-5] INFO  c.o.t.controllers.AuthorController - Updating author with id: 2, firstName: Petr and lastName: Novák
2021-12-21 21:24:31 [http-nio-8080-exec-5] ERROR c.o.t.errors.RestExceptionHandler - Invoked exception type: BAD_REQUEST, full message: Could not update author with id: 2, firstname: Petr, lastName: Novák due to duplication 
2021-12-21 21:24:40 [http-nio-8080-exec-6] INFO  c.o.t.controllers.AuthorController - Updating author with id: 2, firstName: Pavel and lastName: Novák
2021-12-21 21:24:40 [http-nio-8080-exec-6] INFO  c.o.t.controllers.AuthorController - Author was successfully updated!
2021-12-21 21:24:45 [http-nio-8080-exec-8] INFO  c.o.t.controllers.AuthorController - Updating author with id: 2, firstName: Pavel and lastName: Novák
2021-12-21 21:24:45 [http-nio-8080-exec-8] ERROR c.o.t.errors.RestExceptionHandler - Invoked exception type: BAD_REQUEST, full message: Could not update author with id: 2, firstname: Pavel, lastName: Novák due to duplication 
2021-12-21 21:55:48 [http-nio-8080-exec-9] INFO  c.o.t.c.AuthenticationController - Logging user with username: R19242
2021-12-21 21:55:48 [http-nio-8080-exec-9] INFO  c.o.t.c.AuthenticationController - User was logged successfully!
2021-12-21 21:55:58 [http-nio-8080-exec-1] INFO  c.o.t.c.TheatreActivityController - Loading theatre activities
2021-12-21 21:55:58 [http-nio-8080-exec-1] INFO  c.o.t.c.TheatreActivityController - Theatre activities were successfully loaded!
2021-12-21 21:56:50 [http-nio-8080-exec-3] INFO  c.o.t.c.TheatreActivityController - Loading theatre activities of author with id: 5
2021-12-21 21:56:50 [http-nio-8080-exec-3] INFO  c.o.t.c.TheatreActivityController - Theatre activities were successfully loaded!
2021-12-21 21:57:39 [http-nio-8080-exec-5] INFO  c.o.t.c.TheatreActivityController - Loading theatre activities with divisions with ids: [2, 7]
2021-12-21 21:57:39 [http-nio-8080-exec-5] INFO  c.o.t.c.TheatreActivityController - Theatre activities were successfully loaded!
2021-12-21 21:58:06 [http-nio-8080-exec-7] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-21T20:22:45Z. Current time: 2021-12-21T21:58:06Z, a difference of 5721312 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 21:58:06 [http-nio-8080-exec-7] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 21:58:15 [http-nio-8080-exec-9] INFO  c.o.t.c.TheatreActivityController - Loading top 5 theatre activities
2021-12-21 21:58:15 [http-nio-8080-exec-9] INFO  c.o.t.c.TheatreActivityController - Theatre activities were successfully loaded!
2021-12-21 21:58:41 [http-nio-8080-exec-1] ERROR c.o.theatre.security.jwt.JwtUtility - JWT token is expired: JWT expired at 2021-12-15T21:58:13Z. Current time: 2021-12-21T21:58:41Z, a difference of 518428521 milliseconds.  Allowed clock skew: 0 milliseconds.
2021-12-21 21:58:41 [http-nio-8080-exec-1] ERROR c.o.t.security.jwt.AuthEntryPoint - Unauthorized attempt
2021-12-21 21:58:46 [http-nio-8080-exec-3] INFO  c.o.t.c.TheatreActivityController - Creating theatre activity
2021-12-21 21:58:47 [http-nio-8080-exec-3] INFO  c.o.t.c.TheatreActivityController - Theatre activity was successfully created!
2021-12-21 22:00:36 [http-nio-8080-exec-5] INFO  c.o.t.c.TheatreActivityController - Updating theatre activity
2021-12-21 22:00:36 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1062, SQLState: 23000
2021-12-21 22:00:36 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Duplicate entry 'polkij-wqeqwe-2021-12-12-19:00:00-20:00:00' for key 'UK5ti2smgtt8bpfcf3iiuhp6xps'
2021-12-21 22:00:36 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [UK5ti2smgtt8bpfcf3iiuhp6xps]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause
java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'polkij-wqeqwe-2021-12-12-19:00:00-20:00:00' for key 'UK5ti2smgtt8bpfcf3iiuhp6xps'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3493)
	at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3355)
	at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3769)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:201)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:723)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)
	at cz.osu.theatre.services.TheatreActivityServiceImpl.updateTheatreActivityFromRequest(TheatreActivityServiceImpl.java:131)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$FastClassBySpringCGLIB$$9007c0d4.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at cz.osu.theatre.services.TheatreActivityServiceImpl$$EnhancerBySpringCGLIB$$fb1b03c.updateTheatreActivityFromRequest(<generated>)
	at cz.osu.theatre.controllers.TheatreActivityController.updateTheatreActivity(TheatreActivityController.java:92)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:684)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at cz.osu.theatre.security.jwt.JwtTokenFilter.doFilterInternal(JwtTokenFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-12-21 22:01:34 [http-nio-8080-exec-6] INFO  c.o.t.c.TheatreActivityController - Deleting theatre activity
2021-12-21 22:01:34 [http-nio-8080-exec-6] INFO  c.o.t.c.TheatreActivityController - Theatre activity was successfully deleted!
2021-12-21 22:02:28 [http-nio-8080-exec-8] INFO  c.o.t.c.TheatreActivityController - Updating theatre activity
2021-12-21 22:02:28 [http-nio-8080-exec-8] INFO  c.o.t.c.TheatreActivityController - Theatre activity was successfully updated!
2021-12-21 22:02:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2021-12-21 22:02:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2021-12-21 22:02:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
